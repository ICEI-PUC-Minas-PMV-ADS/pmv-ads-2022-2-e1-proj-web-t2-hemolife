<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Hemo Life</title>
    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/hemocentros.css">
    <!-- JavaScript -->
    <script src="../js/db-listhemo.js"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poiret+One&family=Quicksand:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Fav icon -->
    <link rel="shortcut icon" href="../img/logo.png" type="image/x-icon">
</head>

<body>
    <!-- Navbar -->
    <nav>
        <div class="logo">
            <a class="icon" href="../index.html"><img src="../img/logo.png" alt="logo"></a>
            <a href="../index.html">Hemo Life</a>
        </div>
        <ul class="nav-links">
            <li><a href="../pages/sobre.html">Sobre</a></li>
            <!-- link referente a parte de Campanhas feita por Natan Fonseca -->
            <li><a href="../pages/prerequisitos.html">Pré-Requisitos</a></li>
            <a href="../pages/login.html"><button class="nav-btn">Login</button></a>
        </ul>
        <div class="burger">
            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
        </div>
    </nav>

    <!-- corpo da pagina -->

    <main-map class="maprow" name="filtro_regiao" id="filtro_regiao">
        <div class="mapas norte" onclick="ListaHemocentros('Região Norte')">
            <h2>Norte</h2>
            <img src="../img/norte.png" alt="">
            </button>
        </div>
        <div class="mapas nordeste" onclick="ListaHemocentros('Região Nordeste')">
            <h2>Nordeste</h2>
            <img src="../img/nordeste.png" alt="">
        </div>
        <div class="mapas centro" onclick="ListaHemocentros('Região Centro-Oeste')">
            <h2>Centro-Oeste</h2>
            <img src="../img/centro-oeste.png" alt="">
        </div>
        <div class="mapas sudeste" onclick="ListaHemocentros('Região Sudeste')">
            <h2>Sudeste</h2>
            <img src="../img/sudeste.png" alt="">
        </div>
        <div class="mapas sul" onclick="ListaHemocentros('Região Sul')">
            <h2>Sul</h2>
            <img src="../img/sul.png" alt="">
        </div>
    </main-map>
    <!-- Ânconra para dar 'scroll' até o conteúdo impresso -->
    <main id="posicaoscroll">
        <h2 id="nomereg"></h2>
        <div id="lista-hemocentros">
        </div>
    </main>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>
        // Obtem os hemocentro informados pelo usuário nos filtros
        var fr = document.querySelector(".name");
        function ListaHemocentros(fr) {
            // limpa a lista de hemocentros apresentados
            $("#lista-hemocentros").empty();
            // Popula a tabela com os registros do banco de dados
            document.getElementById('nomereg').innerHTML = fr;
            for (let index = 0; index < db.dados.length; index++) {
                const hemoc = db.dados[index];
                // Verifica se os dados dos hemocentros batem com os filtros
                if ((hemoc.regiao == fr) || (fr == '')) {
                    $("#lista-hemocentros").append(
                        `<div class="card"><h3>${hemoc.estadohemo}</h3>
                         <p>${hemoc.nomehemo}<br>${hemoc.localhemo}
                         <br> ${hemoc.contatohemo}</p></div>`
                    );
                }      
                //Scroll da página do botões até o conteúdo impresso.          
                var target_offset = $("#posicaoscroll").offset();
                var target_top = target_offset.top;
                $('html, body').stop().animate({ scrollTop: target_top }, 1500);
            }
        }

    </script>
    <!-- Rodapé da página -->
</body>
<footer>
    <div class="footer-conteudo">
        <a href="#">Dúvidas frequentes</a>
        <a href="#">Apoie o nosso projeto</a>
        <a href="#">Trabalhe conosco</a>
    </div>
    <div class="footer-bottom">
        <p>Copyright &copy;2022 Hemo Life. designed by <a class="puc"
                href="https://www.pucminas.br/vestibular/Paginas/default.aspx?utm_source=google_search&utm_medium=cpc&utm_campaign=vestibular_presencial&gclid=CjwKCAjw-rOaBhA9EiwAUkLV4k8SyGJreEHkgRrE85BYs7qT3IhcdzOxB4js6D4alA1Bk8h0ee6k7hoCkrcQAvD_BwE">PucMinas</a>
        </p>
        <div>
            <p>Contato:<a href="tel:+5531984548460">(xx)xxxxx-xxxx</a></p>
        </div>

        <div>
            <p>Email:<a href="mailto:hemolifepuc@gmail.com">hemolifepuc@gmail.com</a></p>
        </div>
    </div>
</footer>

</html>
